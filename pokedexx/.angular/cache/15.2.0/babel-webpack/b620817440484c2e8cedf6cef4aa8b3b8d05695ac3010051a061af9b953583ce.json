{"ast":null,"code":"import { FavoritePokemonAction, FavoritePokemonActionRemove } from \"src/app/store/models/actions/pokemons.actions\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../api/api.service\";\nimport * as i3 from \"@ngrx/store\";\nimport * as i4 from \"@angular/common\";\nfunction PokemonComponent_section_0_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PokemonComponent_section_0_div_12_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.addToFavorites(ctx_r4.pokemon));\n    });\n    i0.ɵɵtext(2, \"Add to favorites\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PokemonComponent_section_0_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PokemonComponent_section_0_div_13_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.removeFromFavorites(ctx_r6.pokemon));\n    });\n    i0.ɵɵtext(2, \"Remove from favorites\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PokemonComponent_section_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 2)(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"img\", 3);\n    i0.ɵɵelementStart(4, \"div\", 4)(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 5)(10, \"button\", 6);\n    i0.ɵɵtext(11, \"Back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, PokemonComponent_section_0_div_12_Template, 3, 0, \"div\", 7);\n    i0.ɵɵtemplate(13, PokemonComponent_section_0_div_13_Template, 3, 0, \"div\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.pokemon.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r0.pokemon.sprites.front_default, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Weight: \", ctx_r0.pokemon.weight, \" kg\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Height: \", ctx_r0.pokemon.height, \" m\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isFavorite);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isFavorite);\n  }\n}\nfunction PokemonComponent_section_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 9)(1, \"p\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class PokemonComponent {\n  constructor(route, apiService, store) {\n    this.route = route;\n    this.apiService = apiService;\n    this.store = store;\n    this.id = 0;\n    this.loading = true;\n    this.isFavorite = false;\n    this.isFavoriteRxJs = false;\n    this.favorites = [];\n    this.favoritesRXJS = [];\n    this.id = this.route.snapshot.params[\"id\"];\n    this.apiService.getPokemon(this.id).subscribe(pokemon => {\n      this.pokemon = pokemon;\n      this.loading = false;\n    });\n    this.store.select(\"favorites\").subscribe(favorites => {\n      this.favorites = favorites;\n      this.isFavorite = this.favorites.some(favorite => favorite.id == this.id);\n    });\n  }\n  addToFavorites(pokemon) {\n    this.store.dispatch(FavoritePokemonAction({\n      payload: pokemon\n    }));\n  }\n  removeFromFavorites(pokemon) {\n    this.store.dispatch(FavoritePokemonActionRemove({\n      payload: pokemon\n    }));\n  }\n}\nPokemonComponent.ɵfac = function PokemonComponent_Factory(t) {\n  return new (t || PokemonComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.Store));\n};\nPokemonComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PokemonComponent,\n  selectors: [[\"app-pokemon\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[\"class\", \"pokemon\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [1, \"pokemon\"], [\"alt\", \"pokemon.name\", 3, \"src\"], [1, \"pokemon__info\"], [1, \"back-btn\"], [\"routerLink\", \"/\"], [4, \"ngIf\"], [3, \"click\"], [1, \"loading\"]],\n  template: function PokemonComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, PokemonComponent_section_0_Template, 14, 6, \"section\", 0);\n      i0.ɵɵtemplate(1, PokemonComponent_section_1_Template, 3, 0, \"section\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.pokemon);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n    }\n  },\n  dependencies: [i4.NgIf, i1.RouterLink],\n  styles: [\".pokemon[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 1rem;\\n  padding: 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wb2tlbW9uL3Bva2Vtb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5wb2tlbW9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIG1hcmdpbjogMXJlbTtcbiAgcGFkZGluZzogMXJlbTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAIA,SAASA,qBAAqB,EAAEC,2BAA2B,QAAQ,+CAA+C;;;;;;;;;ICKhHC,2BAAyB;IAChBA;MAAAA;MAAA;MAAA,OAASA,oDAAuB;IAAA,EAAC;IAACA,gCAAgB;IAAAA,iBAAS;;;;;;IAEpEA,2BAAwB;IACfA;MAAAA;MAAA;MAAA,OAASA,yDAA4B;IAAA,EAAC;IAACA,qCAAqB;IAAAA,iBAAS;;;;;IAbhFA,kCAAyC;IACpCA,YAAkB;IAAAA,iBAAK;IAC3BA,yBAAgE;IAChEA,8BAA2B;IACvBA,YAA+B;IAAAA,iBAAI;IACtCA,yBAAG;IAAAA,YAA8B;IAAAA,iBAAI;IAEtCA,8BAAsB;IACEA,qBAAI;IAAAA,iBAAS;IACpCA,6EAEM;IACNA,6EAEM;IACPA,iBAAM;;;;IAdFA,eAAkB;IAAlBA,yCAAkB;IACjBA,eAAqC;IAArCA,4EAAqC;IAEtCA,eAA+B;IAA/BA,+DAA+B;IAC/BA,eAA8B;IAA9BA,8DAA8B;IAI3BA,eAAiB;IAAjBA,yCAAiB;IAGjBA,eAAgB;IAAhBA,wCAAgB;;;;;IAMxBA,kCAAyC;IACrCA,0BAAU;IAAAA,iBAAI;;;ADPlB,OAAM,MAAOC,gBAAgB;EAS3BC,YACUC,KAAqB,EACrBC,UAAsB,EACtBC,KAAsC;IAFtC,UAAK,GAALF,KAAK;IACL,eAAU,GAAVC,UAAU;IACV,UAAK,GAALC,KAAK;IAVR,OAAE,GAAW,CAAC;IACd,YAAO,GAAY,IAAI;IACvB,eAAU,GAAY,KAAK;IAC3B,mBAAc,GAAY,KAAK;IAC/B,cAAS,GAAc,EAAE;IACzB,kBAAa,GAAc,EAAE;IAOlC,IAAI,CAACC,EAAE,GAAG,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;IAE1C,IAAI,CAACJ,UAAU,CAACK,UAAU,CAAC,IAAI,CAACH,EAAE,CAAC,CAACI,SAAS,CAAEC,OAAgB,IAAI;MACjE,IAAI,CAACA,OAAO,GAAGA,OAAO;MACtB,IAAI,CAACC,OAAO,GAAG,KAAK;IACtB,CAAC,CAAC;IAEF,IAAI,CAACP,KAAK,CAACQ,MAAM,CAAC,WAAW,CAAC,CAACH,SAAS,CAAEI,SAAS,IAAI;MACrD,IAAI,CAACA,SAAS,GAAGA,SAAS;MAC1B,IAAI,CAACC,UAAU,GAAG,IAAI,CAACD,SAAS,CAACE,IAAI,CAAEC,QAAiB,IAAKA,QAAQ,CAACX,EAAE,IAAI,IAAI,CAACA,EAAE,CAAC;IACtF,CAAC,CAAC;EAEJ;EAEOY,cAAc,CAACP,OAAgB;IACpC,IAAI,CAACN,KAAK,CAACc,QAAQ,CAACrB,qBAAqB,CAAC;MAAEsB,OAAO,EAAET;IAAO,CAAE,CAAC,CAAC;EAClE;EAEOU,mBAAmB,CAACV,OAAgB;IACzC,IAAI,CAACN,KAAK,CAACc,QAAQ,CAACpB,2BAA2B,CAAC;MAAEqB,OAAO,EAAET;IAAO,CAAE,CAAC,CAAC;EACxE;;AAlCWV,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ7B1B,0EAgBU;MAEVA,yEAEU;;;MApBAA,kCAAa;MAkBbA,eAAa;MAAbA,kCAAa","names":["FavoritePokemonAction","FavoritePokemonActionRemove","i0","PokemonComponent","constructor","route","apiService","store","id","snapshot","params","getPokemon","subscribe","pokemon","loading","select","favorites","isFavorite","some","favorite","addToFavorites","dispatch","payload","removeFromFavorites","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/kalidevi/Documents/GitHub/AngularPractice/pokedexx/src/app/components/pokemon/pokemon.component.ts","/home/kalidevi/Documents/GitHub/AngularPractice/pokedexx/src/app/components/pokemon/pokemon.component.html"],"sourcesContent":["import { Component } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { ApiService } from \"../../api/api.service\";\nimport { Pokemon } from \"../../api/api.service\";\nimport { FavoritePokemonAction, FavoritePokemonActionRemove } from \"src/app/store/models/actions/pokemons.actions\";\nimport { Store } from \"@ngrx/store\";\n\n@Component({\n  selector: \"app-pokemon\",\n  templateUrl: \"./pokemon.component.html\",\n  styleUrls: [\"./pokemon.component.scss\"],\n})\nexport class PokemonComponent {\n  public pokemon: any;\n  public id: number = 0;\n  public loading: boolean = true;\n  public isFavorite: boolean = false;\n  public isFavoriteRxJs: boolean = false;\n  public favorites: Pokemon[] = [];\n  public favoritesRXJS: Pokemon[] = [];\n\n  constructor(\n    private route: ActivatedRoute,\n    private apiService: ApiService,\n    private store: Store<{ favorites: Pokemon[] }>\n  ) {\n    this.id = this.route.snapshot.params[\"id\"];\n\n    this.apiService.getPokemon(this.id).subscribe((pokemon: Pokemon) => {\n      this.pokemon = pokemon;\n      this.loading = false;\n    });\n\n    this.store.select(\"favorites\").subscribe((favorites) => {\n      this.favorites = favorites;\n      this.isFavorite = this.favorites.some((favorite: Pokemon) => favorite.id == this.id);\n    });\n\n  }\n\n  public addToFavorites(pokemon: Pokemon): void {\n    this.store.dispatch(FavoritePokemonAction({ payload: pokemon }));\n  }\n\n  public removeFromFavorites(pokemon: Pokemon): void {\n    this.store.dispatch(FavoritePokemonActionRemove({ payload: pokemon }));\n  }\n}\n","<section *ngIf=\"pokemon\" class=\"pokemon\">\n\t<h2>{{ pokemon.name }}</h2>\n\t<img [src]=\"pokemon.sprites.front_default\" alt=\"pokemon.name\" />\n\t<div class=\"pokemon__info\">\n\t\t<p>Weight: {{ pokemon.weight }} kg</p>\n\t\t<p>Height: {{ pokemon.height }} m</p>\n\t</div>\n\t<div class=\"back-btn\">\n\t\t<button routerLink=\"/\">Back</button>\n\t\t<div *ngIf=\"!isFavorite\">\n\t\t\t<button (click)=\"addToFavorites(pokemon)\">Add to favorites</button>\n\t\t</div>\n\t\t<div *ngIf=\"isFavorite\">\n\t\t\t<button (click)=\"removeFromFavorites(pokemon)\">Remove from favorites</button>\n\t\t</div>\n\t</div>\n</section>\n\n<section *ngIf=\"loading\" class=\"loading\">\n\t<p>Loading...</p>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}